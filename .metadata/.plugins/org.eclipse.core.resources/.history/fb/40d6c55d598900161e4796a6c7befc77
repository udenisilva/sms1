package lk.nbro.lsmis.controller;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import org.apache.commons.lang3.StringUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.validation.BindingResult;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;

import lk.nbro.lsmis.constant.ApplicationConstants;
import lk.nbro.lsmis.constant.GeneralEnumConstants.ApplicationType;
import lk.nbro.lsmis.constant.GeneralEnumConstants.AttachmentType;
import lk.nbro.lsmis.constant.GeneralEnumConstants.LanguageType;
import lk.nbro.lsmis.constant.GeneralEnumConstants.YesNoStatus;
import lk.nbro.lsmis.constant.OLSIMSEnumConstant;
import lk.nbro.lsmis.dao.LABApplicationRepository; 
import lk.nbro.lsmis.model.District;
import lk.nbro.lsmis.model.DistrictSecretariat;
import lk.nbro.lsmis.model.GramaNiladhariDivision; 
import lk.nbro.lsmis.model.LocalAuthority;
import lk.nbro.lsmis.model.SystemUser;
import lk.nbro.lsmis.model.UseOfLand; 
import lk.nbro.lsmis.service.DistrictSecretariatService;
import lk.nbro.lsmis.service.DistrictService;
import lk.nbro.lsmis.service.GramaNiladhariDivisionService; 
import lk.nbro.lsmis.service.LocalAuthorityService;
import lk.nbro.lsmis.service.SequenceNumberService;
import lk.nbro.lsmis.service.SystemUserService;
import lk.nbro.lsmis.service.UseOfLandService;
import lk.nbro.lsmis.util.LanguageUtil;
import lk.nbro.lsmis.util.Session;



@Controller
public class ApplicationController {


  @Autowired
  DistrictService districtService;

  @Autowired
  DistrictSecretariatService districtSecretariatService;

  @Autowired
  GramaNiladhariDivisionService gramaNiladhariDivisionService;

  @Autowired
  LocalAuthorityService localAuthorityService;

  @Autowired
  LABApplicationRepository labApplicationRepository;

  @Autowired
  SequenceNumberService sequenceNumberService;

  @Autowired
  UseOfLandService useOfLandService;

 

  @Autowired
  SystemUserService systemUserService;

 

  @RequestMapping(value = "/changeLanguage", method = RequestMethod.GET)
  public @ResponseBody String changeLanguage(HttpServletRequest request, HttpServletResponse response,@RequestParam("langType") String langType) {
	  HttpSession session = request.getSession();
    Session.setApplicationLanguage(langType);
    session.setAttribute("SESSION_APP_LANG", langType);
    System.out.println(Session.getApplicationLanguage());
    return langType;
  }



}

